<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>modules.get_data_claims.ClaimsTranslate &mdash; JFORTES 1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="JFORTES 1 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">JFORTES 1 documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for modules.get_data_claims.ClaimsTranslate</h1><div class="highlight"><pre>
<span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: latin1 -*-</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s">&#39;Herbert OLiveira Rocha&#39;</span>


<span class="c">#-------------------------------------------------------------------------------------------------</span>
<span class="c"># Goal: This program aims to perfom the translation of the claim gathered from ESC/JAVA.</span>
<span class="c">#       The focus of this program is isolate the variable or structure related in the claim.</span>
<span class="c">#</span>
<span class="c"># Status: [DOING]</span>
<span class="c">#</span>
<span class="c">#-------------------------------------------------------------------------------------------------</span>


<span class="c"># From Python</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">commands</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>



<div class="viewcode-block" id="IsolateDataClaim"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim">[docs]</a><span class="k">class</span> <span class="nc">IsolateDataClaim</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class has as main function isolate the variable or structure</span>
<span class="sd">    related in the properties that has been identified by ESC/JAVA, and then</span>
<span class="sd">    it applies the respective translation to each type of property.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pathJavaFile</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_line_num</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_comments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_claim</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_point_data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_tag_comm</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_annoted</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_annoted_pt</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_translated</span> <span class="o">=</span> <span class="p">[]</span> <span class="c"># the return of the execution of this class</span>
        
        <span class="c">#Data scope function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list_name_func</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list_num_start_func</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list_num_end_func</span> <span class="o">=</span> <span class="p">[]</span>


        <span class="c"># Flags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DEBUG_STATUS</span>   <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">TESTING_STATUS</span> <span class="o">=</span> <span class="bp">False</span>


        <span class="c"># For testing the translation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_cl</span>            <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_failed_translate_cl</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_num_actual_failed_translate_cl</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_num_actual_incomplete_trans_cl</span> <span class="o">=</span> <span class="mi">0</span>


        <span class="c"># CSV input</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pathCsvFile</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span> <span class="c">#we want a list to append each value in each column to</span>


        <span class="c"># Atributes for tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_name_array</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_index_array</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>


<div class="viewcode-block" id="IsolateDataClaim.set_debug_flag"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.set_debug_flag">[docs]</a>    <span class="k">def</span> <span class="nf">set_debug_flag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define True to flag self.DEBUG_STATUS to debugging the code.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DEBUG_STATUS</span> <span class="o">=</span> <span class="bp">True</span>

</div>
<div class="viewcode-block" id="IsolateDataClaim.set_testing_flag"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.set_testing_flag">[docs]</a>    <span class="k">def</span> <span class="nf">set_testing_flag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define True to flag self.TESTING_STATUS to enable option to monitor the testing execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">TESTING_STATUS</span> <span class="o">=</span> <span class="bp">True</span>


</div>
<div class="viewcode-block" id="IsolateDataClaim.loadDataFromCsv"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.loadDataFromCsv">[docs]</a>    <span class="k">def</span> <span class="nf">loadDataFromCsv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">csvFileClaims</span><span class="p">,</span> <span class="n">javaFile</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load data from csv file spliting the data by delimiter &#39;;&#39;. Additionally the method</span>
<span class="sd">        create a dictionary where the keys are the name columns of the csv file.</span>

<span class="sd">        :param csvFileClaims: CSV file path</span>
<span class="sd">        :type csvFileClaims: str</span>
<span class="sd">        :param javaFile: Java file path</span>
<span class="sd">        :type javaFile: str</span>
<span class="sd">        :return: Assign the values to dictionary self.columns_csv</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pathCsvFile</span> <span class="o">=</span> <span class="n">csvFileClaims</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pathJavaFile</span> <span class="o">=</span> <span class="n">javaFile</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathCsvFile</span><span class="p">)</span> <span class="k">as</span> <span class="n">csvFileClaims</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="n">csvFileClaims</span><span class="p">,</span><span class="n">delimiter</span><span class="o">=</span><span class="s">&#39;;&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">row</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setData2Lists</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getTagsFromComments</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="IsolateDataClaim.setData2Lists"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.setData2Lists">[docs]</a>    <span class="k">def</span> <span class="nf">setData2Lists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method based on the values extracted from csv file in the method</span>
<span class="sd">        loadDataFromCsv(self, csvFileClaims, javaFile) creates for each column</span>
<span class="sd">        a list that are attributes of this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">line</span><span class="p">,</span><span class="n">comm</span><span class="p">,</span><span class="n">claim</span><span class="p">,</span><span class="n">pt_data</span><span class="p">,</span><span class="n">tag</span><span class="p">,</span><span class="n">annoted</span><span class="p">,</span><span class="n">annoted_pt</span> <span class="ow">in</span> \
                <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span><span class="p">[</span><span class="s">&#39;Number of Line&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span><span class="p">[</span><span class="s">&#39;Comments&#39;</span><span class="p">],</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span><span class="p">[</span><span class="s">&#39;Claim&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span><span class="p">[</span><span class="s">&#39;Point Data&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span><span class="p">[</span><span class="s">&#39;Tag&#39;</span><span class="p">],</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span><span class="p">[</span><span class="s">&#39;Annoted&#39;</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">columns_csv</span><span class="p">[</span><span class="s">&#39;Annoted Point&#39;</span><span class="p">]):</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">TESTING_STATUS</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_cl</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">DEBUG_STATUS</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Data gather from csv file: &quot;</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Line    : &quot;</span><span class="p">,</span><span class="n">line</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Comments: &quot;</span><span class="p">,</span><span class="n">comm</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Claim   : &quot;</span><span class="p">,</span><span class="n">claim</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Pt claim: &quot;</span><span class="p">,</span><span class="n">pt_data</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Annoted : &quot;</span><span class="p">,</span><span class="n">annoted</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Pt annot: &quot;</span><span class="p">,</span><span class="n">annoted_pt</span><span class="p">)</span>
                <span class="k">print</span><span class="p">()</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_line_num</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_comments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comm</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_claim</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">claim</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_point_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt_data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_annoted</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">annoted</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_annoted_pt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">annoted_pt</span><span class="p">)</span>
            
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">DEBUG_STATUS</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&quot;-&quot;</span><span class="o">*</span><span class="mi">50</span><span class="p">))</span>


</div>
<div class="viewcode-block" id="IsolateDataClaim.getTagsFromComments"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.getTagsFromComments">[docs]</a>    <span class="k">def</span> <span class="nf">getTagsFromComments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gather the TAG property (a identifier) from the comments. This tag will help to apply the rules</span>
<span class="sd">        to get the objects pointed in the claim and also to apply the transformation rule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">eachComm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_comments</span><span class="p">:</span>
            <span class="n">matchTag</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\((.[^ ]*)\)$&#39;</span><span class="p">,</span> <span class="n">eachComm</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">matchTag</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_tag_comm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matchTag</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">))</span>

</div>
<div class="viewcode-block" id="IsolateDataClaim.getObjectPointed"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.getObjectPointed">[docs]</a>    <span class="k">def</span> <span class="nf">getObjectPointed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method is related to get the object pointed by</span>
<span class="sd">        identifier (^) in the property, and then translate the property to JFORTES format.</span>

<span class="sd">        :returns: The list with all properties translated in self.claim_list_translated</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c">#if not self.DEBUG_STATUS and not self.TESTING_STATUS:</span>
        <span class="c">#    print(&quot;Number of Line ; Original Claim ; Claim Translated ; Comments &quot;)</span>

        <span class="c"># &gt;&gt; Starting translation</span>
        <span class="k">while</span> <span class="nb">id</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_list_claim</span><span class="p">):</span>
            
            <span class="c"># Generating a list from the text claim</span>
            <span class="n">list_tmp_cl</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_list_claim</span><span class="p">[</span><span class="nb">id</span><span class="p">])</span>
            <span class="c"># Getting the index position pointed by identified</span>
            <span class="c">#print(self.claim_list_point_data[id])</span>
            <span class="n">get_index</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_list_point_data</span><span class="p">[</span><span class="nb">id</span><span class="p">]))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">DEBUG_STATUS</span><span class="p">:</span>
                <span class="k">print</span><span class="p">()</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;&gt;&gt; Claim translation &lt;&lt; &quot;</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;From claim   : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_claim</span><span class="p">[</span><span class="nb">id</span><span class="p">])</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;Tag comment  : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_tag_comm</span><span class="p">[</span><span class="nb">id</span><span class="p">])</span>
                <span class="c"># DOING: Create a method to select the object and then apply the transformation rule</span>
                <span class="c">#       to the claims</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&quot;The translation: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjectInClaim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_list_line_num</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span>
                                                                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_tag_comm</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span>
                                                                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_claim</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span>
                                                                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_comments</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span>
                                                                    <span class="n">get_index</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_list_annoted</span><span class="p">[</span><span class="nb">id</span><span class="p">]))</span>
                <span class="k">print</span><span class="p">()</span>

            <span class="c"># Print the new csv</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">claim_translated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getObjectInClaim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_list_line_num</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span>
                                                         <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_tag_comm</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span>
                                                         <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_claim</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span>
                                                         <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_comments</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span>
                                                         <span class="n">get_index</span><span class="p">,</span>
                                                         <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_annoted</span><span class="p">[</span><span class="nb">id</span><span class="p">])</span>

                <span class="n">row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_line_num</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">+</span><span class="s">&quot; ; &quot;</span><span class="o">+</span>\
                      <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_claim</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">+</span><span class="s">&quot; ; &quot;</span><span class="o">+</span>\
                      <span class="nb">str</span><span class="p">(</span><span class="n">claim_translated</span><span class="p">)</span><span class="o">+</span><span class="s">&quot; ; &quot;</span><span class="o">+</span>\
                      <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_comments</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

                <span class="c"># &gt;&gt;&gt; save each translation result in a list</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">TESTING_STATUS</span><span class="p">:</span>
                    <span class="c">#print(row)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_translated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

            <span class="nb">id</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">TESTING_STATUS</span><span class="p">:</span>
            <span class="c"># Print log TOTAL</span>
            <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathJavaFile</span><span class="o">+</span><span class="s">&quot; ; &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_failed_translate_cl</span><span class="p">)</span><span class="o">+</span>
                  <span class="s">&quot; ; &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span><span class="p">)</span><span class="o">+</span><span class="s">&quot; ; &quot;</span><span class="o">+</span>
                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_failed_translate_cl</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span><span class="p">)</span><span class="o">+</span><span class="s">&quot; ; &quot;</span><span class="o">+</span>
                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_cl</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_failed_translate_cl</span> <span class="o">+</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span><span class="p">))</span><span class="o">+</span><span class="s">&quot; ; &quot;</span><span class="o">+</span>
                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_cl</span><span class="p">))</span>


        <span class="c"># A list with the properties translated</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">claim_list_translated</span>

</div>
<div class="viewcode-block" id="IsolateDataClaim.getObjectInClaim"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.getObjectInClaim">[docs]</a>    <span class="k">def</span> <span class="nf">getObjectInClaim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lineNumber</span><span class="p">,</span> <span class="n">tagComm</span><span class="p">,</span> <span class="n">claim</span><span class="p">,</span> <span class="n">_commentCl</span><span class="p">,</span> <span class="n">indexPointed</span><span class="p">,</span> <span class="n">annoted</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to gather the object pointed in the property, and then apply the translation rule according</span>
<span class="sd">        to its TAG property.</span>

<span class="sd">        :param lineNumber: the line number where it was identified the property</span>
<span class="sd">        :type lineNumber: str</span>
<span class="sd">        :param tagComm: the identifier of the property identified, e.g., IndexTooBig to possible upper bound violation</span>
<span class="sd">        :type tagComm: str</span>
<span class="sd">        :param claim: the assertion/property definied by ESC/JAVA</span>
<span class="sd">        :type claim: str</span>
<span class="sd">        :param _commentCl: the comments about the property identified</span>
<span class="sd">        :type _commentCl: str</span>
<span class="sd">        :param indexPointed: the index of the object that is related to the property violation in the assertion</span>
<span class="sd">        :param annoted: extra comments, in most cases related to code annotation.</span>
<span class="sd">        :return: the text of the property translated (self.claim_translated) in the JFORTES format</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>


        <span class="k">if</span> <span class="n">tagComm</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;IndexTooBig&quot;</span><span class="p">,</span><span class="s">&quot;IndexNegative&quot;</span><span class="p">]:</span>

            <span class="c"># This tag is related to UPPER BOUND violation of ARRAY</span>
            <span class="c"># I.e., A[I] -&gt; &quot;I &lt; a.length()&quot;</span>
            <span class="c"># TODO: Here we isolate the text code located to gather the data</span>

            <span class="c">#Isolating the text in the claim</span>
            <span class="c"># Running the claim from indexPointed to last index of array name</span>
            <span class="n">list_tmp_cl</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">claim</span><span class="p">)</span>
            <span class="c"># How is an array we need isolate two parts the array name and the index</span>
            <span class="c"># So we start to get the index</span>
            <span class="n">tmpIndex</span> <span class="o">=</span> <span class="n">indexPointed</span>
            <span class="n">isolateStrIndex</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
            <span class="k">while</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="s">&quot;]&quot;</span><span class="p">:</span>
                <span class="c">#print(list_tmp_cl[tmpIndex],end=&quot;&quot;)</span>
                <span class="n">isolateStrIndex</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="s">&quot;[&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">tag_index_array</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                <span class="n">tmpIndex</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">isolateStrIndex</span> <span class="o">+=</span> <span class="s">&quot;]&quot;</span>


            <span class="c"># get the name array</span>
            <span class="n">tmpIndex</span> <span class="o">=</span> <span class="n">indexPointed</span>
            <span class="n">tmpIndex</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">isolateStrVarArr</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
            <span class="n">countFlag</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="p">(</span><span class="ow">not</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;(&#39;</span><span class="p">,</span><span class="s">&#39;)&#39;</span><span class="p">,</span><span class="s">&#39;;&#39;</span><span class="p">,</span><span class="s">&#39;=&#39;</span><span class="p">])</span> <span class="ow">and</span> <span class="p">(</span><span class="n">tmpIndex</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">matchBlank</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\s&#39;</span><span class="p">,</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">])</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">matchBlank</span><span class="p">:</span>
                    <span class="n">countFlag</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">isolateStrVarArr</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">tag_name_array</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">countFlag</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">tmpIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

                <span class="n">tmpIndex</span> <span class="o">-=</span> <span class="mi">1</span>

            <span class="n">strIsolaCl</span> <span class="o">=</span> <span class="n">isolateStrVarArr</span><span class="o">+</span><span class="n">isolateStrIndex</span>
            <span class="c">#print(&quot;======&gt; %s&quot; % strIsolaCl)</span>

            <span class="c"># Apply the correct transformation rule</span>
            <span class="k">if</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;IndexTooBig&#39;</span><span class="p">:</span>
                <span class="c"># Checking parts translated]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag_index_array</span><span class="p">)</span> <span class="ow">and</span> \
                   <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag_name_array</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag_index_array</span><span class="o">+</span><span class="s">&quot; &lt; &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">tag_name_array</span><span class="o">+</span><span class="s">&quot;.length&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;IndexNegative&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag_index_array</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag_index_array</span><span class="o">+</span><span class="s">&quot; &gt;= 0&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>


        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Null&#39;</span><span class="p">:</span>

            <span class="c"># Avoid System.out</span>
            <span class="n">matchSysOut</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;System\.out&#39;</span><span class="p">,</span> <span class="n">claim</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">matchSysOut</span><span class="p">:</span>

                <span class="n">list_tmp_cl</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">claim</span><span class="p">)</span>

                <span class="c"># get the name var</span>
                <span class="n">tmpIndex</span> <span class="o">=</span> <span class="n">indexPointed</span>
                <span class="c">#print(tmpIndex, len(list_tmp_cl))</span>
                <span class="c">#print(list_tmp_cl)</span>
                <span class="c">#print(claim)</span>
                <span class="c">#sys.exit()</span>

                <span class="c"># Identify the type of NULL DEREFENCE</span>
                <span class="k">if</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;.&#39;</span> <span class="ow">or</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;[&#39;</span><span class="p">:</span>

                    <span class="c">#Checking if is a method return, e.g., Runtime.getRuntime().exec(&quot;ls &quot; + file);</span>
                    <span class="n">backOneItem</span> <span class="o">=</span> <span class="n">tmpIndex</span> <span class="o">-</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">backOneItem</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;)&quot;</span><span class="p">:</span>
                        <span class="c"># Isolating rvalue from assignment</span>
                        <span class="n">matchRightAssig</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;=[ ]*(.[^;]*)&#39;</span><span class="p">,</span> <span class="n">claim</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">matchRightAssig</span><span class="p">:</span>
                            <span class="n">rvalueassi</span> <span class="o">=</span> <span class="n">matchRightAssig</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                            <span class="c"># Checking if is a exec command</span>
                            <span class="n">matchExecComan</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\.exec&#39;</span><span class="p">,</span> <span class="n">rvalueassi</span><span class="p">)</span>
                            <span class="k">if</span> <span class="n">matchExecComan</span><span class="p">:</span>
                                <span class="c">#print(&quot;JFORTES_CHECK_EXEC_RETURN( &quot;+rvalueassi+&quot; )&quot;)</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;JFORTES_CHECK_EXEC_RETURN( &quot;</span><span class="o">+</span><span class="n">rvalueassi</span><span class="o">+</span><span class="s">&quot; )&quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c"># We conclude that is a array NULL -&gt; ex: array.length</span>
                        <span class="n">tmpIndex</span> <span class="o">-=</span> <span class="mi">1</span>
                        <span class="k">while</span> <span class="n">tmpIndex</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;(&#39;</span><span class="p">,</span><span class="s">&#39;)&#39;</span><span class="p">,</span><span class="s">&#39;;&#39;</span><span class="p">,</span><span class="s">&#39;=&#39;</span><span class="p">,</span><span class="s">&#39; &#39;</span><span class="p">]:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                            <span class="n">tmpIndex</span> <span class="o">-=</span> <span class="mi">1</span>

                        <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                        <span class="c"># Checking parts translated</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span><span class="p">):</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="s">&quot; != null &amp;&amp; &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span><span class="o">+</span><span class="s">&quot;.length &gt; 0&quot;</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="mi">1</span>


        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;ZeroDiv&#39;</span><span class="p">:</span>
            <span class="n">list_tmp_cl</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">claim</span><span class="p">)</span>
            <span class="c"># get the name var</span>
            <span class="n">tmpIndex</span> <span class="o">=</span> <span class="n">indexPointed</span>
            <span class="k">if</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;/&#39;</span><span class="p">:</span>
                <span class="n">tmpIndex</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">while</span> <span class="n">tmpIndex</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_tmp_cl</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;;&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                    <span class="n">tmpIndex</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="c"># Checking parts translated</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="s">&quot; &gt; 0&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>
                
                
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;ArrayStore&#39;</span><span class="p">:</span>
            <span class="c"># We consider the assignment, e.g., s[0] = o</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">claim</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">assignment</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">assignment</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c"># Get only var name for rvalue</span>
                <span class="n">rvalue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOnlyVarName</span><span class="p">(</span><span class="n">assignment</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
                <span class="c"># Get only var name for lvalue</span>
                <span class="n">lvalue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOnlyVarName</span><span class="p">(</span><span class="n">assignment</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

                <span class="c"># Checking parts translated</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rvalue</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">lvalue</span><span class="p">)):</span>
                    <span class="n">txt</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">rvalue</span><span class="p">)</span><span class="o">+</span><span class="s">&quot;.getClass().getName() == &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">lvalue</span><span class="p">)</span><span class="o">+</span><span class="s">&quot;.getClass().getName()&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="n">txt</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>
                
        
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Assert&#39;</span><span class="p">:</span>
            <span class="c"># We consider the annotations, e.g.,  //@ assert i &gt;= 0</span>
            <span class="n">matchAssert</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;assert[ ]*(.*)&#39;</span><span class="p">,</span> <span class="n">claim</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">matchAssert</span><span class="p">:</span>
                <span class="c"># Checking parts translated</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="n">matchAssert</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="n">matchAssert</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>
                
                
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Reachable&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;(0)&quot;</span>
            
            
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Invariant&#39;</span><span class="p">:</span>
            <span class="c"># Only based on annotations</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">annoted</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">annoted</span><span class="o">.</span><span class="n">isspace</span><span class="p">():</span>
                <span class="c"># Suport only to comparation</span>
                <span class="c"># TODO: WARNNING -&gt; fix untracked line</span>
                <span class="n">matchInvariant</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;invariant[ ]*(.*)&#39;</span><span class="p">,</span> <span class="n">annoted</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">matchInvariant</span><span class="p">:</span>
                    <span class="c"># Checking parts translated</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="n">matchInvariant</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="n">matchInvariant</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>


        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Constraint&#39;</span><span class="p">:</span>
            <span class="c"># Only based on annotations</span>
            <span class="c">#self.claim_translated=annoted</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">annoted</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">annoted</span><span class="o">.</span><span class="n">isspace</span><span class="p">():</span>
                <span class="n">matchTagAnnot</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">.*&#39;</span><span class="p">,</span> <span class="n">annoted</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">matchTagAnnot</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="n">annoted</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">matchConstraintLit</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;constraint[ ]*(.*)&#39;</span><span class="p">,</span> <span class="n">annoted</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">matchConstraintLit</span><span class="p">:</span>
                        <span class="c"># Checking parts translated</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="n">matchConstraintLit</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)):</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="n">matchConstraintLit</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>



            
            
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Cast&#39;</span><span class="p">:</span>
            <span class="c">#There are two types of object typecasting:</span>
            <span class="c">#1. upcasting </span>
            <span class="c">#2. downcasting</span>
            
            <span class="c"># Checking if a class if converted in a subclass downcasting possible BUG</span>
            <span class="c"># if (view instanceof B)</span>
            <span class="c"># boolean isInstance = someObject instanceof SomeTypeOrInterface;</span>
            <span class="c"># Example:</span>
            <span class="c"># assertTrue(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) instanceof List&lt;?&gt;);</span>
            
            <span class="n">list_tmp_cl</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">claim</span><span class="p">)</span>            
            <span class="n">tmpIndex</span> <span class="o">=</span> <span class="n">indexPointed</span>
            
            <span class="c"># Getting the text to isolate the parts</span>
            <span class="n">text</span><span class="o">=</span><span class="s">&#39;&#39;</span>
            <span class="k">if</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;(&#39;</span><span class="p">:</span>                
                <span class="k">while</span> <span class="n">tmpIndex</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_tmp_cl</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;;&#39;</span><span class="p">]:</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                    <span class="n">tmpIndex</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="c"># Isolating the parts</span>
            <span class="n">matchCast</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\(([a-zA-Z0-9\_]*)\)*[ ]*([a-zA-Z0-9\_\[\]]*)&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">matchCast</span><span class="p">:</span>
                <span class="c"># Checking parts translated</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="n">matchCast</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="n">matchCast</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="s">&quot;( &quot;</span><span class="o">+</span><span class="n">matchCast</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s">&quot; instanceof &quot;</span><span class="o">+</span><span class="n">matchCast</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s">&quot; )&quot;</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="c">#print(matchCast.group(2))</span>
                
            <span class="c">#.getClass().getSimpleName()</span>
            
            
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;NonNull&#39;</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">claim</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">assignment</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;!(&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">assignment</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c"># Checking parts translated</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="n">assignment</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_translated_is_empty</span><span class="p">(</span><span class="n">assignment</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="n">assignment</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">+</span><span class="s">&quot; == &quot;</span><span class="o">+</span><span class="n">assignment</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">+</span><span class="s">&quot; )&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_incomplete_trans_cl</span> <span class="o">+=</span> <span class="mi">1</span>


        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;NonNullInit&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;1&quot;</span>
            
            
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;NegSize&#39;</span><span class="p">:</span>
            <span class="n">list_tmp_cl</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">claim</span><span class="p">)</span>            
            <span class="n">tmpIndex</span> <span class="o">=</span> <span class="n">indexPointed</span>
            <span class="k">if</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;[&#39;</span><span class="p">:</span>
                <span class="n">tmpIndex</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;!(&quot;</span>
                <span class="k">while</span> <span class="n">tmpIndex</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_tmp_cl</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;]&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                    <span class="n">tmpIndex</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="s">&quot; &lt; 0 )&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;!(&quot;</span>
                <span class="k">while</span> <span class="n">tmpIndex</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_tmp_cl</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;;&#39;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="n">list_tmp_cl</span><span class="p">[</span><span class="n">tmpIndex</span><span class="p">]</span>
                    <span class="n">tmpIndex</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">+=</span> <span class="s">&quot; &lt; 0 )&quot;</span>
                
                
                
                
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Pre&#39;</span><span class="p">:</span>

            <span class="c"># Only based on annotations</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">annoted</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">annoted</span><span class="o">.</span><span class="n">isspace</span><span class="p">():</span>
                <span class="c">#self.claim_translated = annoted TODO: Write a method to adopt annotation</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;true&quot;</span>
            <span class="c"># if not annoted == &quot;&quot; and not annoted.isspace():</span>
            <span class="c">#     # WARNNING for while we just consider @requires</span>
            <span class="c">#     # Basead on this model -&gt; @ requires i &gt;= 0;</span>
            <span class="c">#</span>
            <span class="c">#     tmpIndex = indexPointed</span>
            <span class="c">#     list_tmp_cl = list(claim)</span>
            <span class="c">#     # Pre conditions for methods call, e.g., int j = m(-1);</span>
            <span class="c">#     # in this case we just get input args for the methods</span>
            <span class="c">#     # &gt;&gt; First we get only the input args</span>
            <span class="c">#     tmpIndex += 1</span>
            <span class="c">#     tmp_str = &#39;&#39;</span>
            <span class="c">#     while tmpIndex &lt; len(list_tmp_cl) and not list_tmp_cl[tmpIndex] in [&#39;)&#39;,&#39;;&#39;]:</span>
            <span class="c">#         tmp_str += list_tmp_cl[tmpIndex]</span>
            <span class="c">#         tmpIndex += 1</span>
            <span class="c">#</span>
            <span class="c">#     # &gt;&gt; Now getting the annoted code if has any</span>
            <span class="c">#     matchRequires = re.search(r&#39;requires[ ]*[a-zA-Z0-9\_\[\]\(\)][ ]*(.*)&#39;, annoted)</span>
            <span class="c">#     if matchRequires:</span>
            <span class="c">#         # Now create the assert</span>
            <span class="c">#         #print(matchRequires.group(1))</span>
            <span class="c">#         tmp_str += &quot; &quot;+str(matchRequires.group(1).rstrip(&#39;\n&#39;))</span>
            <span class="c">#         # Checking parts translated</span>
            <span class="c">#         if not self.check_translated_is_empty(tmp_str):</span>
            <span class="c">#             self.claim_translated = tmp_str</span>
            <span class="c">#         else:</span>
            <span class="c">#             self.claim_translated = &quot;&quot;</span>
            <span class="c">#             self.test_num_total_incomplete_trans_cl += 1</span>
                            
                        
            
            
        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Post&#39;</span><span class="p">:</span>
            <span class="c"># Only based on annotations</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">annoted</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">annoted</span><span class="o">.</span><span class="n">isspace</span><span class="p">():</span>
                <span class="c">#Get only the annotations</span>
                <span class="c">#matchTagAnnot = re.search(r&#39;([/]+[@].*)&#39;, annoted)</span>
                <span class="c">#if matchTagAnnot:</span>
                <span class="c">#    self.claim_translated = matchTagAnnot.group(1)</span>
                <span class="n">matchWarNeedPos</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;(Postcondition possibly not established)&#39;</span><span class="p">,</span> <span class="n">_commentCl</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">matchWarNeedPos</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;true&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="n">annoted</span>
            <span class="c"># if not annoted == &quot;&quot; and not annoted.isspace():</span>
            <span class="c">#     # WARNNING for while we just consider @requires</span>
            <span class="c">#     # Basead on this model -&gt; //@ ensures \result &gt; 0;</span>
            <span class="c">#     # where \result is replaced by the return of the function</span>
            <span class="c">#</span>
            <span class="c">#     # Checking if ESC/Java points to end of the method</span>
            <span class="c">#     tmpIndex = indexPointed</span>
            <span class="c">#     list_tmp_cl = list(claim)</span>
            <span class="c">#     tmp_str = &#39;&#39;</span>
            <span class="c">#     if list_tmp_cl[tmpIndex] == &#39;}&#39;:</span>
            <span class="c">#         # Get the scope of the program</span>
            <span class="c">#         # the identification is done by the range by num line from the claim</span>
            <span class="c">#         save_id_range_sc = self.whatIsTheScope(lineNumber)</span>
            <span class="c">#         save_return = self.getValueFromReturn(save_id_range_sc)</span>
            <span class="c">#</span>
            <span class="c">#         if not save_return == None:</span>
            <span class="c">#             tmp_str = str(save_return)</span>
            <span class="c">#</span>
            <span class="c">#             # Getting data from annoted code</span>
            <span class="c">#             matchEnsures = re.search(r&#39;ensures[ ]*\\result[ ]*(.*)&#39;, annoted)</span>
            <span class="c">#             if matchEnsures:</span>
            <span class="c">#                 #print(matchEnsures.group(1))</span>
            <span class="c">#                 tmp_str += &quot; &quot;+str(matchEnsures.group(1))</span>
            <span class="c">#                 if not self.check_translated_is_empty(tmp_str):</span>
            <span class="c">#                     self.claim_translated = tmp_str</span>
            <span class="c">#                 else:</span>
            <span class="c">#                     self.claim_translated = &quot;&quot;</span>
            <span class="c">#                     self.test_num_total_incomplete_trans_cl += 1</span>


        <span class="k">elif</span> <span class="n">tagComm</span> <span class="o">==</span> <span class="s">&#39;Exception&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span> <span class="o">=</span> <span class="s">&quot;@Test(expected = RuntimeException.class)&quot;</span>
            


        <span class="bp">self</span><span class="o">.</span><span class="n">reset_var_claims</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">claim_translated</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">test_num_total_failed_translate_cl</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="mi">1</span>

</div>
<div class="viewcode-block" id="IsolateDataClaim.check_translated_is_empty"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.check_translated_is_empty">[docs]</a>    <span class="k">def</span> <span class="nf">check_translated_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_string</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is a simple checking where is identified if it was possible to translate</span>
<span class="sd">        the property, in negative case the text of the translated property is a empty string.</span>

<span class="sd">        :param _string: the text of the translated property</span>
<span class="sd">        :type: _string: str</span>
<span class="sd">        :return: True if is empty and False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">_string</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="ow">or</span> <span class="n">_string</span><span class="o">.</span><span class="n">isspace</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>

            </div>
<div class="viewcode-block" id="IsolateDataClaim.getOnlyVarName"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.getOnlyVarName">[docs]</a>    <span class="k">def</span> <span class="nf">getOnlyVarName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gather only the name of the variable that has been analyzed.</span>

<span class="sd">        :param var: a text with the variable that has been analyzed.</span>
<span class="sd">        :type var: str</span>
<span class="sd">        :return: the name of the variable in matchVar.group(1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c">#print(var)</span>
        <span class="n">matchVar</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;([a-zA-Z0-9\_]*).*&#39;</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">matchVar</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">matchVar</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    </div>
<div class="viewcode-block" id="IsolateDataClaim.getValueFromReturn"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.getValueFromReturn">[docs]</a>    <span class="k">def</span> <span class="nf">getValueFromReturn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indexList</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gather the value point out in the funtion return</span>

<span class="sd">        :param indexList: the index of the the current method analyzed from the Java program</span>
<span class="sd">        :type indexList: int</span>
<span class="sd">        :return: the value of the return in matchReturn.group(1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cprogram</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pathJavaFile</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">lines_from_program</span> <span class="o">=</span> <span class="n">cprogram</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="n">cprogram</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        
        <span class="n">tmp_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_num_start_func</span><span class="p">[</span><span class="n">indexList</span><span class="p">])</span>
        <span class="k">while</span> <span class="n">tmp_count</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_num_end_func</span><span class="p">[</span><span class="n">indexList</span><span class="p">]):</span>
            <span class="n">matchReturn</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;return[ ]*(.[^;]*)&#39;</span><span class="p">,</span> <span class="n">lines_from_program</span><span class="p">[(</span><span class="n">tmp_count</span><span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
            <span class="k">if</span> <span class="n">matchReturn</span><span class="p">:</span>
                <span class="c">#print(matchReturn.group(1))</span>
                <span class="k">return</span> <span class="n">matchReturn</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            
            <span class="n">tmp_count</span> <span class="o">+=</span> <span class="mi">1</span>

    </div>
<div class="viewcode-block" id="IsolateDataClaim.whatIsTheScope"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.whatIsTheScope">[docs]</a>    <span class="k">def</span> <span class="nf">whatIsTheScope</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lineNum</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identify the scope based where the analyzed line number is located in the Java program.</span>
<span class="sd">        It is worth noting that we adopt IDs based in the index of a list the has the data about the</span>
<span class="sd">        methods.</span>

<span class="sd">        :param lineNum: the number line of the program</span>
<span class="sd">        :type lineNum: int</span>
<span class="sd">        :return: the index in the list self.list_num_* that has the data about the methods in the java program.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">startLine</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_num_start_func</span><span class="p">):</span>
            <span class="c">#print(self.list_num_end_func[index]+&quot; &lt;= &quot;+lineNum+&quot; and &quot;+lineNum+&quot; &gt;= &quot;+startLine)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_num_end_func</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">lineNum</span> <span class="ow">and</span> <span class="n">lineNum</span> <span class="o">&gt;=</span> <span class="n">startLine</span><span class="p">:</span>                
                <span class="k">return</span> <span class="n">index</span>

        <span class="c"># We try to check again cuz Pre and Post, in this case we consider a line after and before</span>
        <span class="c"># WARNNING: Need improvements</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">startLine</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_num_start_func</span><span class="p">):</span>
            <span class="c">#print(self.list_num_end_func[index]+&quot; &lt;= &quot;+lineNum+&quot; and &quot;+lineNum+&quot; &gt;= &quot;+startLine)</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_num_end_func</span><span class="p">[</span><span class="n">index</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">lineNum</span> <span class="ow">and</span> <span class="n">lineNum</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">startLine</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">index</span>
        <span class="c">#sys.exit()</span>
            
    
    </div>
<div class="viewcode-block" id="IsolateDataClaim.generateScopeByLineNumber"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.generateScopeByLineNumber">[docs]</a>    <span class="k">def</span> <span class="nf">generateScopeByLineNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_javafile</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate the data about the scope of the java program analyzed, i.e., it is</span>
<span class="sd">        identified where the class and method start and finish based on the its line numbers.</span>

<span class="sd">        :param _javafile: the path of the C program file</span>
<span class="sd">        :type _javafile: str</span>
<span class="sd">        :return void: the method set in the atributes of the class to</span>
<span class="sd">                      values related to number line of begin and end of the functions</span>
<span class="sd">                      in the analyzed program</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c">#print()</span>
        <span class="c">#print(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;)</span>
        <span class="n">cprogram</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">_javafile</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">lines_from_program</span> <span class="o">=</span> <span class="n">cprogram</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="n">cprogram</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        
        <span class="c"># Gettting the name of the functions</span>
        <span class="n">get_start_data_method</span> <span class="o">=</span> <span class="n">commands</span><span class="o">.</span><span class="n">getoutput</span><span class="p">(</span><span class="s">&quot;ctags --sort=NO -x --c-kinds=f &quot;</span><span class="o">+</span><span class="n">_javafile</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">get_start_data_method</span><span class="p">:</span>
            <span class="c">#print(line)</span>
            <span class="n">matchDataMethod</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;([a-zA-Z0-9\_\(\)\[\]]*)[ ]*([a-zA-Z0-9]*)[ ]*([0-9]*)&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">matchDataMethod</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">matchDataMethod</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="s">&quot;class&quot;</span><span class="p">:</span>
                    <span class="c">#print(matchDataMethod.group(1))   </span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">list_name_func</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matchDataMethod</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>  
                    <span class="c">#print(&quot;&gt;&gt;&gt;&gt;&gt; &quot;+matchDataMethod.group(3))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">list_num_start_func</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matchDataMethod</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>                    
                    <span class="c"># Getting the end num of the line</span>
                    <span class="c"># &gt;&gt; If the method is only a Decl, e.g., public int m(int i);</span>
                    <span class="n">matchDeclMethod</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;;&#39;</span><span class="p">,</span> <span class="n">lines_from_program</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">matchDataMethod</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">matchDeclMethod</span><span class="p">:</span>
                        <span class="n">getEndLineFunction</span> <span class="o">=</span> <span class="n">commands</span><span class="o">.</span><span class="n">getoutput</span><span class="p">(</span><span class="s">&quot;awk </span><span class="se">\&#39;</span><span class="s">NR &gt; first &amp;&amp; /[ ]*}/ { print NR; exit }</span><span class="se">\&#39;</span><span class="s"> first=&quot;</span><span class="o">+</span><span class="n">matchDataMethod</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="s">&quot; &quot;</span><span class="o">+</span><span class="n">_javafile</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">list_num_end_func</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">getEndLineFunction</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c"># Is a decl, therefore the start == end</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">list_num_end_func</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matchDataMethod</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

</div>
<div class="viewcode-block" id="IsolateDataClaim.reset_var_claims"><a class="viewcode-back" href="../../../api_doc/modules.get_data_claims.html#modules.get_data_claims.ClaimsTranslate.IsolateDataClaim.reset_var_claims">[docs]</a>    <span class="k">def</span> <span class="nf">reset_var_claims</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method just reset the values of the following atributes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># Atributes for tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_name_array</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_index_array</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
</pre></div></div></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">JFORTES 1 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Herbert Rocha.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>